<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="static/css/horsezaos.css">
</head>
<body>
        <!--Navbar-->
        <div class="nav">
            <h2>CRA Studio</h2>
       
       </div>
           <!--内容-->
           <div class="content"> 
            <div class="login wrap">
                <div class="h1">
                    <div class="box-mini" id="boxmini">
                        <svg 
                        clip-rule="evenodd" 
                        fill-rule="evenodd" 
                        stroke-linejoin="round" 
                        stroke-miterlimit="2" 
                        viewBox="0 0 24 24" 
                        xmlns="http://www.w3.org/2000/svg" width="30px" height="30px">
                        <path d="m3.514 6.61c-.317.179-.514.519-.514.887v8.95c0 .37.197.708.514.887 1.597.901 6.456 3.639 8.005 4.512.152.085.319.128.487.128.164 0 .328-.041.477-.123 1.549-.855 6.39-3.523 7.994-4.408.323-.177.523-.519.523-.891v-9.055c0-.368-.197-.708-.515-.887-1.595-.899-6.444-3.632-7.999-4.508-.151-.085-.319-.128-.486-.128-.168 0-.335.043-.486.128-1.555.876-6.405 3.609-8 4.508m15.986 2.115v7.525l-6.75 3.722v-7.578zm-15 7.425v-7.458l6.75 3.75v7.511zm.736-8.769 6.764-3.813 6.801 3.834-6.801 3.716z" fill-rule="nonzero"/>
                        </svg>
                        <p id="message"></p>
                    </div>
                    <span style="font-size: 26pt;">注册</span></div>
                    <form onsubmit="return validateForm()">
                        <input placeholder="邮箱" id="email" name="email" type="text">
                        
                        <div style="display: flex;align-items: center;">
                            <input placeholder="验证码" id="verificationCode" name="verificationCode" type="text" style="width: 60%;">
                            <input type="button" value="获取验证码" class="btn"  onclick="sendVerificationCode()" id="sendCodeBtn" style="width: 30%;margin-left: 3px;animation: bounce 1s;">
                        </div>
                        
                        <input placeholder="密码" id="password" name="password" type="password">
                        <input placeholder="再次确认密码" id="confirmPassword" name="confirmPassword" type="password">
                        <input value="注册" class="btn" type="submit">
                    </form>
                </div>
            </body>
            
<script>
        var lastSendTime = 0; // 用于记录上一次发送验证码的时间
    var verificationCodeInterval = 60000; // 验证码按钮的冷却时间，单位为毫秒

    function validateForm() {
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var confirmPassword = document.getElementById('confirmPassword').value;
        var verificationCode = document.getElementById('verificationCode').value;
        var message = document.getElementById('message');
        var boxmini = document.getElementById('boxmini');
        var valid = true;

        // 清除之前的错误消息
        message.textContent = '';

        // 验证邮箱格式
        // 这里可以添加邮箱格式验证的代码

        // 验证账户和密码
        /*if (password !== 'admin4006' || email !== 'admin') {
            setTimeout(function() {
                message.textContent = '账户或密码错误';
            }, 100);
            boxmini.style.width = '100%';
            boxmini.style.backgroundColor = '#ff4c4c';
            valid = false;
        }
    */
                // 验证确认密码
                if (password !== confirmPassword) {
            setTimeout(function() {
                message.textContent = '两次输入的密码不一致';
            }, 100);
            boxmini.style.width = '100%';
            boxmini.style.backgroundColor = '#ff4c4c';
            valid = false;
        }

        if (email === ''|| password ==='' || confirmPassword === ''|| verificationCode ===''){
            setTimeout(function(){
                message.textContent = '输入不能为空';
            },100);
            boxmini.style.width = '100%';
            boxmini.style.backgroundColor = '#ff4c4c';
            valid = false;
        }
        if (!valid) {
            setTimeout(function() {
                message.textContent = '';
                boxmini.style.width = '45px';
                boxmini.style.backgroundColor = '#ffffff';
            }, 2000);
        }
        return valid;
    }

    function sendVerificationCode() {
        var currentTime = new Date().getTime();
        if (currentTime - lastSendTime >= verificationCodeInterval) {
            // 添加发送验证码的逻辑
            console.log('Verification code sent!');

            // 更新上一次发送验证码的时间
            lastSendTime = currentTime;
        } else {
            console.log('Please wait ' + (verificationCodeInterval - (currentTime - lastSendTime)) + 'ms before sending another verification code.');
        }
    }

</script>

</html>